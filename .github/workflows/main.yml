name: Wanderlust CI
on: 
   # push: 
   #   branches: main
  #   paths-ignore:
  #     - './.github/workflows/**'

  workflow_dispatch:

permissions:
  id-token: write
  contents: read
  actions: read

jobs:
  run-reusable-workflow:
    name: "Wanderlust CI"
    uses: dhruv-development/reusable_workflows/.github/workflows/wanderlust-ci.yml@main
    with:
      role-assume: "arn:aws:iam::${{ secrets.AWS_ACC }}:role/GitHubActionsRole"
      AWS_REGION: "${{ secrets.AWS_REGION}}"
      ECR_MONGO_REPO: "${{secrets.ECR_MONGO_REPO}}"
      ECR_REDIS_REPO: "${{secrets.ECR_REDIS_REPO}}"
      ECR_BACKEND_REPO: "${{secrets.ECR_BACKEND_REPO}}"
      ECR_FRONTEND_REPO: "${{secrets.ECR_FRONTEND_REPO}}"
      # TASK_DEFINITION: "node-app-task-definition"
      # CONTAINER_NAME: "node-container"
      # CLUSTER: "DevCluster"
      # SERVICE: "node-service"
